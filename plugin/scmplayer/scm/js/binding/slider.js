define(['knockout','jquery','jquery.ui'],function(ko,$){ko.bindingHandlers.slider={init:function(el,valueAccessor,allBindingsAccessor){var options=allBindingsAccessor().sliderOptions||{};$(el).slider(options);var observable=valueAccessor();var setObservable=function(){var sliderValue=$(el).slider("value");var step=options.step;if(Math.round(sliderValue/step)!=Math.round(observable()/step))observable(sliderValue);}
if(options.liveUpdate)ko.utils.registerEventHandler(el,"slide",_.throttle(setObservable,50));ko.utils.registerEventHandler(el,"slidechange",setObservable);if(options.pauseable){ko.utils.registerEventHandler(el,"slidestart",function(){observable.pause();});ko.utils.registerEventHandler(el,"slidestop",function(){setTimeout(function(){observable.resume();},0);});}ko.utils.domNodeDisposal.addDisposeCallback(el,function(){$(el).slider("destroy");});},update:function(el,valueAccessor){var value=valueAccessor();$(el).slider("value",ko.utils.unwrapObservable(value));}};return ko;});